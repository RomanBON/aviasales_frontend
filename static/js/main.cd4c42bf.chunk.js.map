{"version":3,"sources":["constants/index.ts","store/initialState.ts","utils/applyFilters.ts","utils/applySorting.ts","utils/setAllConnectionsTo.ts","hooks/types.ts","hooks/reducer.ts","utils/fetchData.ts","api/index.ts","utils/getFiltersHash.ts","components/ui/Checkbox/index.tsx","components/ui/RadioButton/index.tsx","components/ui/RadioGroup/index.tsx","components/FilterConnections/index.tsx","assets/logo.svg","components/Header/index.tsx","utils/uniqueId.ts","utils/getTimeToObject.ts","components/Segment/index.tsx","utils/getWordWithRightEnding.ts","components/Price/index.tsx","utils/currencyFormat.ts","components/Ticket/index.tsx","components/TicketTypes/index.tsx","utils/context.ts","hooks/selectors.ts","containers/TicketsList/index.tsx","hooks/actions.ts","containers/TicketsGroup/index.tsx","containers/FilterGroup/index.tsx","pages/TicketsPage/index.tsx","app/index.tsx","serviceWorker.ts","index.tsx"],"names":["ETicketAssessment","initialState","stop","fetched","searchId","filters","connections","one","two","three","ticketType","ticketAssessment","CHEAPEST","tickets","stopsKeys","applySorting","sortFunction","a","b","price","segments","duration","sort","setAllConnectionsTo","value","result","Object","keys","reduce","acc","key","SEARCH_ID","SEARCH_ID__SUCCESS","SEARCH_ID__FAIL","GET_TICKETS","GET_TICKETS__SUCCESS","GET_TICKETS__FAIL","SET_FILTER_CONNECTION","SET_FILTER_ASSESSMENT","reducer","state","action","payload","type","filteredTickets","values","current","selectedAll","selectedNothing","filter","ticket","stops","length","stopKey","filtersValue","applyFilters","concat","filteredConnections","LIMIT","DELAY","fetchData","fetchFunction","dispatch","asyncActionsTypes","limit","delay","requestAction","successAction","failAction","setTimeout","fetchResult","API_HOST","useAPI","filtersStateHash","String","useEffect","axios","get","data","types","storedStopFlag","useRef","stopFlag","Checkbox","props","checked","children","className","isBlock","restProps","baseClassName","cx","displayName","RadioButton","text","isGrouped","RadioGroup","name","radioOptions","map","radio","index","FilterConnections","onChange","label","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fillRule","clipRule","d","fill","fillOpacity","_ref3","stroke","strokeWidth","id","maskUnits","x","y","width","height","_ref5","mask","strokeLinecap","strokeLinejoin","_ref6","_ref7","_ref8","transform","opacity","_ref9","filterUnits","colorInterpolationFilters","floodOpacity","in","dy","stdDeviation","mode","in2","_ref","svgRef","title","viewBox","ref","ForwardRef","forwardRef","Header","uniqueId","Math","random","toString","substr","getTimeToObject","time","isNumeric","date","Date","minutes","getMinutes","slice","getHours","Segment","quantity","cases","segment","origin","destination","departureTime","getTime","arrivalTime","routePath","routeTime","stopsText","abs","join","Price","amount","currency","_number","r","parseFloat","exp10","pow","round","rr","Number","toFixed","split","replace","currencyFormat","Ticket","carrier","src","alt","TicketTypes","selectedKind","FASTEST","StateContext","createContext","connectionsListNames","useStoreSelector","stateSelector","useContext","TicketsList","selectors","useDispatch","TicketsGroup","filtersAssessment","onChangeAssessment","selected","actions","FilterGroup","filtersConnections","onChangeFilters","TicketsPage","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cd4c42bf.chunk.js","sourcesContent":["export enum ETicketAssessment {\n  CHEAPEST = 'CHEAPEST',\n  FASTEST = 'FASTEST',\n}\n","import { ETicketAssessment } from '../constants';\n\nconst initialState: IState = {\n  stop: false,\n  fetched: false,\n  searchId: '',\n  filters: {\n    connections: {\n      one: true,\n      two: false,\n      three: false,\n    },\n    ticketType: {\n      ticketAssessment: ETicketAssessment.CHEAPEST,\n    },\n  },\n  tickets: [],\n};\n\nexport default initialState;\n","const stopsKeys = ['', 'one', 'two', 'three'];\n\nexport default function applyFilters(\n  tickets: ITicket[],\n  filters: IFiltersState\n): ITicket[] {\n  const [selectedAll, selectedNothing]: [boolean, boolean] = Object.values(\n    filters.connections\n  ).reduce(\n    (acc, current: boolean) => {\n      const currentSelectedAll = acc[0] && current;\n      const currentSelectedNothing = acc[1] && !current;\n\n      return [currentSelectedAll, currentSelectedNothing];\n    },\n    [false, false]\n  );\n\n  return selectedAll\n    ? tickets\n    : tickets.filter(ticket => ticket.segments.reduce(\n      (acc, current) => {\n        const stops = current.stops.length;\n        if (selectedNothing && !stops) {\n          return true;\n        }\n        const stopKey = stopsKeys[stops] as keyof IConnections;\n        const filtersValue = filters.connections[stopKey];\n\n        return acc && filtersValue;\n      },\n      true as boolean\n    ));\n}\n","import { ETicketAssessment } from '../constants';\n\nexport default function applySorting(tickets: ITicket[], filters: IFiltersState): ITicket[] {\n  const sortFunction =\n    filters.ticketType.ticketAssessment === ETicketAssessment.CHEAPEST\n      ? (a: ITicket, b: ITicket) => a.price - b.price\n      : (a: ITicket, b: ITicket) =>\n        a.segments[0].duration +\n        a.segments[1].duration -\n        (b.segments[0].duration + b.segments[1].duration)\n  ;\n\n  return tickets.sort(sortFunction);\n}\n","import initialState from '../store/initialState';\n\nexport default function setAllConnectionsTo(value: boolean): IConnections {\n  const result = initialState.filters.connections;\n\n  return Object.keys(result).reduce(\n    (acc, key) => ({ ...acc, [key]: value }),\n    { ...result }\n  );\n}\n","export const SEARCH_ID = 'SEARCH_ID';\nexport const SEARCH_ID__SUCCESS = 'SEARCH_ID__SUCCESS';\nexport const SEARCH_ID__FAIL = 'SEARCH_ID__FAIL';\n\nexport const GET_TICKETS = 'GET_TICKETS';\nexport const GET_TICKETS__SUCCESS = 'GET_TICKETS__SUCCESS';\nexport const GET_TICKETS__FAIL = 'GET_TICKETS__FAIL';\n\nexport const SET_FILTER_CONNECTION = 'SET_FILTER_CONNECTION';\nexport const SET_FILTER_ASSESSMENT = 'SET_FILTER_ASSESSMENT';\n","import applyFilters from '../utils/applyFilters';\nimport applySorting from '../utils/applySorting';\nimport setAllConnectionsTo from '../utils/setAllConnectionsTo';\nimport {\n  SEARCH_ID__SUCCESS,\n  GET_TICKETS,\n  GET_TICKETS__SUCCESS,\n  SET_FILTER_ASSESSMENT,\n  SET_FILTER_CONNECTION,\n} from './types';\n\nconst reducer = (state: IState, action: IAction): IState => {\n  const { payload } = action;\n\n  switch (action.type) {\n    case SEARCH_ID__SUCCESS:\n      return { ...state, searchId: payload };\n\n    case GET_TICKETS:\n      return { ...state, stop: false, fetched: false };\n\n    case GET_TICKETS__SUCCESS:\n      const filteredTickets = applyFilters(payload.tickets, state.filters);\n      const { stop } = payload;\n\n      return {\n        ...state,\n        fetched: true,\n        tickets: applySorting(state.tickets.concat(filteredTickets), state.filters),\n        stop\n      };\n\n    case SET_FILTER_ASSESSMENT:\n      return {\n        ...state,\n        filters: { ...state.filters, ticketType: { ticketAssessment: payload } }\n      };\n\n    case SET_FILTER_CONNECTION:\n      const { key, value } = payload;\n      const filteredConnections =\n        key === 'all'\n          ? setAllConnectionsTo(true)\n          : key === 'nothing'\n            ? setAllConnectionsTo(false)\n            : { ...state.filters.connections, [key]: value }\n      ;\n      const searchId = state.stop ? '' : state.searchId;\n      const tickets = [] as ITicket[];\n\n      return {\n        ...state,\n        tickets,\n        searchId,\n        filters: { ...state.filters, connections: filteredConnections }\n      };\n\n    default:\n      break;\n  }\n\n  return state;\n};\n\nexport default reducer;\n","import { Dispatch } from 'react';\n\nconst LIMIT = 1;\nconst DELAY = 500;\n\nexport default function fetchData(\n  fetchFunction: () => Promise<any>,\n  dispatch: Dispatch<IAction>,\n  asyncActionsTypes: any[],\n  limit = LIMIT,\n  delay = DELAY\n): Promise<any> {\n  const [requestAction, successAction, failAction] = asyncActionsTypes;\n  dispatch({ type: requestAction });\n\n  const fetchResult = async() => {\n    try {\n      const result = await fetchFunction();\n      dispatch({ type: successAction, payload: result });\n\n      return result;\n    } catch (error) {\n      if (limit - 1) {\n        setTimeout(\n          () =>\n            fetchData(fetchFunction, dispatch, asyncActionsTypes, limit - 1),\n          delay\n        );\n      } else {\n        dispatch({ type: failAction, payload: error });\n      }\n\n      throw error;\n    }\n  };\n\n  return fetchResult();\n}\n","import { useEffect, useRef, Dispatch } from 'react';\nimport axios from 'axios';\n\nimport fetchData from '../utils/fetchData';\nimport getFiltersHash from '../utils/getFiltersHash';\nimport * as types from '../hooks/types';\n\nconst API_HOST = 'https://front-test.beta.aviasales.ru';\nconst LIMIT = 3;\n\nexport default function useAPI (dispatch: Dispatch<any>, state: IState) {\n  const searchId = state.searchId;\n  const filtersStateHash = getFiltersHash(state.filters);\n  useEffect(() => {\n    fetchData(\n      async () => {\n        const { data } = await axios.get<{ searchId: string }>(\n          `${API_HOST}/search`\n        );\n\n        return data.searchId;\n      },\n      dispatch,\n      [\n        types.SEARCH_ID,\n        types.SEARCH_ID__SUCCESS,\n        types.SEARCH_ID__FAIL\n      ]\n    );\n  }, [dispatch, filtersStateHash]);\n\n  const storedStopFlag = useRef('');\n\n  let stopFlag = storedStopFlag.current;\n\n  if (state.fetched && !state.stop) {\n    stopFlag = storedStopFlag.current + '#';\n    storedStopFlag.current = stopFlag;\n  }\n\n  useEffect(() => {\n    if (!searchId) {\n      return;\n    }\n\n    fetchData(\n      async () => {\n        const { data } = await axios.get<IFetchTicketsResult>(\n          `${API_HOST}/tickets?searchId=${searchId}`\n        );\n\n        return {\n          tickets: data.tickets,\n          stop: data.stop\n        };\n      },\n      dispatch,\n      [\n        types.GET_TICKETS,\n        types.GET_TICKETS__SUCCESS,\n        types.GET_TICKETS__FAIL\n      ],\n      LIMIT\n    );\n  }, [stopFlag, filtersStateHash, dispatch, searchId]);\n}\n","export default function getFiltersHash(filters: IFiltersState): string {\n  return (\n    Object.values(filters.connections).reduce((acc, value) => {\n      return acc + String(value);\n    }, '') + filters.ticketType.ticketAssessment\n  );\n}\n","import React, { ChangeEvent } from 'react';\nimport cx from 'classnames';\n\nimport './style.css';\n\ntype Props = {\n  checked: boolean;\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  children?: React.ReactNode;\n  className?: string;\n  isBlock?: boolean;\n};\n\nconst Checkbox = (props: Props) => {\n  const { checked, children, className, isBlock, ...restProps } = props;\n  const baseClassName = cx(className, Checkbox.displayName, {\n    '_checked': checked,\n    '_is-block': isBlock,\n  });\n\n  return (\n    <label className={baseClassName}>\n      <span className={`${Checkbox.displayName}__box`}>\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          className={`${Checkbox.displayName}__input`}\n          {...restProps}\n        />\n        <span className={`${Checkbox.displayName}__inner-box`} />\n      </span>\n      {children && (\n        <span className={`${Checkbox.displayName}__text`}>\n          {children}\n        </span>\n      )}\n    </label>\n  );\n};\n\nCheckbox.displayName = 'Checkbox';\n\nexport default Checkbox;\n","import React, { ChangeEvent } from 'react';\nimport cx from 'classnames';\n\nimport './style.css';\n\nexport type RadioButtonProps = {\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  text?: React.ReactNode;\n  checked?: boolean;\n  name?: string;\n  className?: string;\n  isGrouped?: boolean;\n};\n\nconst RadioButton = (props: RadioButtonProps) => {\n  const { text, className, checked, isGrouped, ...restProps } = props;\n  const baseClassName = cx(className, RadioButton.displayName, {\n    '_checked': checked,\n    '_is-grouped': isGrouped,\n  });\n\n  return (\n    <label className={baseClassName}>\n      <input\n        type=\"radio\"\n        checked={checked}\n        className={`${RadioButton.displayName}__input`}\n        {...restProps}\n      />\n      {text && (\n        <span className={`${RadioButton.displayName}__text`}>\n          {text}\n        </span>\n      )}\n    </label>\n  );\n};\n\nRadioButton.displayName = 'RadioButton';\n\nexport default RadioButton;\n","import React from 'react';\nimport cx from 'classnames';\n\nimport RadioButton, { RadioButtonProps } from '../RadioButton';\n\ninterface Props {\n  name: string;\n  radioOptions: RadioButtonProps[];\n  className?: string;\n}\n\nconst RadioGroup = (props: Props) => {\n  const { name, radioOptions, className } = props;\n\n  return (\n    <div className={cx(className, RadioGroup.displayName)}>\n      {radioOptions.map((radio, index) => (\n        <RadioButton\n          key={index}\n          name={name}\n          isGrouped\n          {...radio}\n        />\n      ))}\n    </div>\n  );\n};\n\nRadioGroup.displayName = 'RadioGroup';\n\nexport default RadioGroup;\n","import React from 'react';\n\nimport { Checkbox } from '../../components/ui';\nimport './style.css';\n\ntype FilterConnectionsProps = {\n  connections: IConnectionsEntry[];\n  onChange: (key: TKeyType, value: boolean) => void;\n};\n\nconst FilterConnections = ({ connections, onChange }: FilterConnectionsProps) => (\n  <div className={FilterConnections.displayName}>\n    <div className={`${FilterConnections.displayName}__title`}>\n      Количество пересадок\n    </div>\n    <div className={`${FilterConnections.displayName}__transfers`}>\n      {connections.map(({ key, label, value }) => (\n        <Checkbox\n          key={label}\n          checked={value}\n          isBlock\n          onChange={() => onChange(key as TKeyType, !value)}\n        >\n          {label}\n        </Checkbox>\n      ))}\n    </div>\n  </div>\n);\n\nFilterConnections.displayName = 'FilterConnections';\n\nexport default FilterConnections;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  filter: \"url(#filter0_d)\"\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M41 70C53.1503 70 63 60.1503 63 48C63 35.8497 53.1503 26 41 26C28.8497 26 19 35.8497 19 48C19 60.1503 28.8497 70 41 70Z\",\n  fill: \"black\",\n  fillOpacity: 0.01\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  filter: \"url(#filter1_d)\"\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M41 70C57.5685 70 71 56.5685 71 40C71 23.4315 57.5685 10 41 10C24.4315 10 11 23.4315 11 40C11 56.5685 24.4315 70 41 70Z\",\n  fill: \"#2196F3\"\n}), React.createElement(\"path\", {\n  d: \"M69 40C69 55.464 56.464 68 41 68C25.536 68 13 55.464 13 40C13 24.536 25.536 12 41 12C56.464 12 69 24.536 69 40Z\",\n  stroke: \"#42A5F5\",\n  strokeWidth: 4\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"mask\", {\n  id: \"mask0\",\n  \"mask-type\": \"alpha\",\n  maskUnits: \"userSpaceOnUse\",\n  x: 11,\n  y: 10,\n  width: 60,\n  height: 60\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M41 70C57.5685 70 71 56.5685 71 40C71 23.4315 57.5685 10 41 10C24.4315 10 11 23.4315 11 40C11 56.5685 24.4315 70 41 70Z\",\n  fill: \"white\"\n}));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  mask: \"url(#mask0)\"\n}, React.createElement(\"path\", {\n  d: \"M13.714 32.875H67.536\",\n  stroke: \"#42A5F5\",\n  strokeWidth: 4,\n  strokeLinecap: \"square\"\n}), React.createElement(\"path\", {\n  d: \"M13.714 48.625H67.536\",\n  stroke: \"#42A5F5\",\n  strokeWidth: 4,\n  strokeLinecap: \"square\"\n}), React.createElement(\"path\", {\n  d: \"M40.25 14.5C40.25 14.5 30.2878 26.0775 30.5035 40.75C30.7191 55.4225 40.25 65.5 40.25 65.5\",\n  stroke: \"#42A5F5\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), React.createElement(\"path\", {\n  d: \"M41 14.5C41 14.5 50.9622 26.0775 50.7465 40.75C50.5309 55.4225 41 65.5 41 65.5\",\n  stroke: \"#42A5F5\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}));\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M51.1946 29.0278C51.3946 28.9123 51.6151 28.8406 51.8456 28.8261C52.8621 28.7621 55.798 28.678 56.4347 29.7809C57.0715 30.8838 55.5298 33.3837 54.966 34.2314C54.8383 34.4235 54.666 34.5784 54.4662 34.6938L48.3904 38.2016L49.2343 55.302C49.2461 55.5414 49.125 55.7679 48.9193 55.8911L47.67 56.6393C47.5055 56.7379 47.3057 56.7586 47.1244 56.696L46.1776 56.369C46.019 56.3143 45.8877 56.2002 45.8114 56.0508L39.3534 43.4192L32.9843 47.0964L32.2974 51.7678C32.2498 52.0912 31.9693 52.3288 31.6426 52.3226L31.1446 52.3132C30.8927 52.3084 30.6663 52.1583 30.5638 51.9282L28.7741 47.9122C27.5439 47.9515 26.3891 47.8306 26.0792 47.294C25.7697 46.7579 26.2429 45.7021 26.893 44.6611L24.3295 41.1301C24.1815 40.9263 24.1648 40.6552 24.2866 40.4347L24.5274 39.9987C24.6854 39.7126 25.0314 39.5886 25.3352 39.709L29.6974 41.4392L36.0779 37.7555L28.4192 25.9267C28.328 25.7858 28.2948 25.6152 28.3267 25.4504L28.517 24.4669C28.5534 24.2786 28.6712 24.116 28.8389 24.0228L30.1115 23.315C30.321 23.1984 30.5777 23.2068 30.7791 23.3368L45.0768 32.5599L51.1946 29.0278Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"mask\", {\n  id: \"mask1\",\n  \"mask-type\": \"alpha\",\n  maskUnits: \"userSpaceOnUse\",\n  x: 16,\n  y: 13,\n  width: 50,\n  height: 51\n}, React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M51.1946 29.0278C51.3946 28.9123 51.6151 28.8406 51.8456 28.8261C52.8621 28.7621 55.798 28.678 56.4347 29.7809C57.0715 30.8838 55.5298 33.3837 54.966 34.2314C54.8383 34.4235 54.666 34.5784 54.4662 34.6938L48.3904 38.2016L49.2343 55.302C49.2461 55.5414 49.125 55.7679 48.9193 55.8911L47.67 56.6393C47.5055 56.7379 47.3057 56.7586 47.1244 56.696L46.1776 56.369C46.019 56.3143 45.8877 56.2002 45.8114 56.0508L39.3534 43.4192L32.9843 47.0964L32.2974 51.7678C32.2498 52.0912 31.9693 52.3288 31.6426 52.3226L31.1446 52.3132C30.8927 52.3084 30.6663 52.1583 30.5638 51.9282L28.7741 47.9122C27.5439 47.9515 26.3891 47.8306 26.0792 47.294C25.7697 46.7579 26.2429 45.7021 26.893 44.6611L24.3295 41.1301C24.1815 40.9263 24.1648 40.6552 24.2866 40.4347L24.5274 39.9987C24.6854 39.7126 25.0314 39.5886 25.3352 39.709L29.6974 41.4392L36.0779 37.7555L28.4192 25.9267C28.328 25.7858 28.2948 25.6152 28.3267 25.4504L28.517 24.4669C28.5534 24.2786 28.6712 24.116 28.8389 24.0228L30.1115 23.315C30.321 23.1984 30.5777 23.2068 30.7791 23.3368L45.0768 32.5599L51.1946 29.0278Z\",\n  fill: \"white\"\n}));\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  mask: \"url(#mask1)\"\n}, React.createElement(\"rect\", {\n  x: 45.536,\n  y: 30.7839,\n  width: 1.30853,\n  height: 12.4084,\n  transform: \"rotate(60 45.536 30.7839)\",\n  fill: \"#EBECF2\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M48.9193 55.8911C49.125 55.7679 49.2461 55.5415 49.2343 55.302L48.3628 37.6426L39.1264 42.9752L45.8114 56.0508C45.8877 56.2002 46.019 56.3143 46.1776 56.369L47.1244 56.696C47.3057 56.7587 47.5055 56.7379 47.67 56.6393L48.9193 55.8911Z\",\n  fill: \"#DEE1E3\"\n}), React.createElement(\"path\", {\n  opacity: 0.4,\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M28.8366 47.8013L28.7476 47.8527L30.5638 51.9282C30.6664 52.1584 30.8927 52.3084 31.1446 52.3132L31.6426 52.3226C31.9693 52.3288 32.2498 52.0912 32.2974 51.7678L33.023 46.8334L32.56 47.1007C32.4167 47.1834 32.2626 47.2452 32.1011 47.2813C31.5509 47.4041 30.1547 47.6951 28.8366 47.8013Z\",\n  fill: \"#DEE1E3\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M39.2482 43.2134L48.3776 37.9426L48.4769 39.9539L40.956 46.5538L39.2482 43.2134Z\",\n  fill: \"#C5C6CC\"\n}), React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M57.4822 32.9524L27.6913 50.1523C27.6913 50.1523 26.8122 48.5636 26.0792 47.2939C26.0703 47.2786 26.062 47.263 26.0541 47.2473C27.4056 47.345 30.1268 47.2351 32.766 45.7114L53.3906 33.8038C55.6822 32.4807 56.2435 30.7674 56.5526 30.0309C57.0311 31.316 57.4822 32.9524 57.4822 32.9524Z\",\n  fill: \"#DEE1E3\"\n}));\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"filter\", {\n  id: \"filter0_d\",\n  x: 8,\n  y: 23,\n  width: 66,\n  height: 66,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), React.createElement(\"feOffset\", {\n  dy: 8\n}), React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 5.5\n}), React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0.215686 0 0 0 0 0.407843 0 0 0 0 0.556863 0 0 0 0.25 0\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_dropShadow\",\n  result: \"shape\"\n})), React.createElement(\"filter\", {\n  id: \"filter1_d\",\n  x: 0,\n  y: 0,\n  width: 82,\n  height: 82,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), React.createElement(\"feOffset\", {\n  dy: 1\n}), React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 5.5\n}), React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0.215686 0 0 0 0 0.407843 0 0 0 0 0.556863 0 0 0 0.3 0\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_dropShadow\",\n  result: \"shape\"\n})));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 82,\n    height: 89,\n    viewBox: \"0 0 82 89\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.1cbc88dc.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport { ReactComponent as Logo } from '../../assets/logo.svg';\nimport './style.css';\n\nconst Header: React.FC = () => (\n  <header className={Header.displayName}>\n    <Logo className={`${Header.displayName}__logo`} />\n  </header>\n);\n\nHeader.displayName = 'Header';\n\nexport default Header;\n","export default function uniqueId(): string {\n  return '_' + Math.random().toString(36).substr(2, 9);\n}\n","export default function getTimeToObject(time: number, isNumeric?: boolean) {\n  const date = new Date(time);\n  const minutes = ('0' + date.getMinutes()).slice(-2);\n\n  if (isNumeric) {\n    return `${date.getHours()}:${minutes}`;\n  }\n\n  return `${date.getHours()}ч ${minutes}м`;\n}\n","import React from 'react';\nimport cx from 'classnames';\n\nimport getTimeToObject from '../../utils/getTimeToObject';\nimport getWordWithRightEnding from '../../utils/getWordWithRightEnding';\nimport './style.css';\n\ninterface Props {\n  segment: ISegment;\n  className?: string;\n}\n\nconst Segment = (props: Props) => {\n  const { segment, className } = props;\n  const { origin, destination, date, stops, duration } = segment;\n\n  const departureTime = new Date(date).getTime();\n  const arrivalTime = departureTime + duration * 60 * 1000;\n  const routePath = `${origin} – ${destination}`;\n  const routeTime =\n    `${getTimeToObject(departureTime, true)} – ${getTimeToObject(arrivalTime, true)}`;\n  const stopsText = `${stops.length} ${getWordWithRightEnding(stops.length,\n    [\n        'пересадка',\n        'пересадки',\n        'пересадок',\n      ]\n    )}`\n  ;\n\n  return (\n    <div className={cx(className, Segment.displayName)}>\n      <div className={`${Segment.displayName}__column`}>\n        <div className={`${Segment.displayName}__column-header`}>\n          {routePath}\n        </div>\n        <div className={`${Segment.displayName}__column-body`}>\n          {routeTime}\n        </div>\n      </div>\n      <div className={`${Segment.displayName}__column`}>\n        <div className={`${Segment.displayName}__column-header`}>\n          В пути\n        </div>\n        <div className={`${Segment.displayName}__column-body`}>\n          {`${getTimeToObject(duration * 60000)}`}\n        </div>\n      </div>\n      <div className={`${Segment.displayName}__column`}>\n        <div className={`${Segment.displayName}__column-header`}>\n          {stopsText}\n        </div>\n        <div className={`${Segment.displayName}__column-body`}>\n          {`${stops.join(', ')}`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nSegment.displayName = 'Segment';\n\nexport default Segment;\n","export default function getWordWithRightEnding (quantity: number, cases: [string, string, string]) {\n  quantity = Math.abs(quantity);\n\n  let word = '';\n\n  if (quantity.toString().indexOf('.') > -1) {\n    word = cases[1];\n  } else {\n    word = (\n      quantity % 10 === 1 && quantity % 100 !== 11\n        ? cases[0]\n        : quantity % 10 >= 2 && quantity % 10 <= 4 && (quantity % 100 < 10 || quantity % 100 >= 20)\n        ? cases[1]\n        : cases[2]\n    );\n  }\n\n  return word;\n}\n","import React from 'react';\nimport cx from 'classnames';\n\nimport currencyFormat from '../../utils/currencyFormat';\nimport './style.css';\n\ninterface Props {\n  amount: number;\n  currency?: 'rub';\n}\n\nconst Price = (props: Props) => {\n  const { amount, currency = 'rub' } = props;\n\n  return (\n    <span className={cx(Price.displayName, `_${currency}`)}>\n      {currencyFormat(amount)}\n    </span>\n  );\n};\n\nPrice.displayName = 'Price';\n\nexport default Price;\n","export default function currencyFormat(_number: number) {\n    const decimal = 0;\n    const separator = ' ';\n    const decpoint = '.';\n    const multiplier = 10;\n    const arr0 = 0;\n    const arr1 = 1;\n\n    let r = parseFloat(String(_number));\n    const exp10 = Math.pow(multiplier, decimal);\n    r = Math.round(r * exp10) / exp10;\n\n    const rr = Number(r).toFixed(decimal).toString().split('.');\n    const b = rr[arr0].replace(/(\\d{1,3}(?=(\\d{3})+(?:\\.\\d|\\b)))/g, '$1' + separator);\n\n    return (rr[arr1] ? b + decpoint + rr[arr1] : b);\n}\n","import React from 'react';\nimport cx from 'classnames';\n\nimport uniqueId from '../../utils/uniqueId';\nimport Segment from '../Segment';\nimport Price from '../Price';\nimport './style.css';\n\ninterface Props {\n  ticket: ITicket;\n  className?: string;\n}\n\nconst Ticket = (props: Props) => {\n  const { ticket, className } = props;\n  const { segments, price, carrier } = ticket;\n\n  return (\n    <div className={cx(className, Ticket.displayName)}>\n      <div className={cx(`${Ticket.displayName}__row`, '_header')}>\n        <div className={`${Ticket.displayName}__price`}>\n          <Price amount={price} />\n        </div>\n        <img\n          src={`//pics.avs.io/99/36/${carrier}.png`}\n          alt={carrier}\n          className={`${Ticket.displayName}__logo`}\n        />\n      </div>\n      {segments.map((segment) => (\n        <Segment\n          key={uniqueId()}\n          segment={segment}\n          className={`${Ticket.displayName}__row`}\n        />\n      ))}\n    </div>\n  );\n};\n\nTicket.displayName = 'Ticket';\n\nexport default Ticket;\n","import React from 'react';\n\nimport { RadioGroup } from '../../components/ui';\nimport { ETicketAssessment } from '../../constants';\nimport './style.css';\n\ntype TicketTypesProps = {\n  selectedKind: ETicketAssessment;\n  onChange: (selectedType: ETicketAssessment) => void;\n};\n\nconst TicketTypes = ({ selectedKind, onChange }: TicketTypesProps) => (\n  <div className={TicketTypes.displayName}>\n    <RadioGroup\n      className={`${TicketTypes.displayName}__radio-group`}\n      name={'ticket-types'}\n      radioOptions={[\n        {\n          onChange: () => onChange(ETicketAssessment.CHEAPEST),\n          checked: selectedKind === ETicketAssessment.CHEAPEST,\n          className: `${TicketTypes.displayName}__radio`,\n          text: 'Самый дешевый',\n        },\n        {\n          onChange: () => onChange(ETicketAssessment.FASTEST),\n          checked: selectedKind === ETicketAssessment.FASTEST,\n          className: `${TicketTypes.displayName}__radio`,\n          text: 'Самый быстрый',\n        },\n      ]}\n    />\n  </div>\n);\n\nTicketTypes.displayName = 'TicketTypes';\n\nexport default TicketTypes;\n","import React, { createContext } from 'react';\n\nimport initialState from '../store/initialState';\n\nconst StateContext = createContext({\n  state: initialState,\n  dispatch: (() => ({})) as React.Dispatch<IAction>\n});\n\nexport default StateContext;\n","import { useContext } from 'react';\n\nimport StateContext from '../utils/context';\nimport { ETicketAssessment } from '../constants';\n\nconst connectionsListNames: IConnectionsNameEntry[] = [\n  { label: 'Все', key: 'all' },\n  { label: 'Без пересадок', key: 'nothing' },\n  { label: '1 пересадка', key: 'one' },\n  { label: '2 пересадки', key: 'two' },\n  { label: '3 пересадки', key: 'three' },\n];\n\nexport function useStoreSelector<StateType, StatePartType>(\n  stateSelector: (store: StateType) => StatePartType\n): StatePartType {\n  const { state } = useContext(StateContext);\n\n  return stateSelector(state as any);\n}\n\nexport function useConnectionsList(): IConnectionsEntry[] {\n  const filtersConnections = useStoreSelector<IState, IConnections>(\n    state => state.filters.connections\n  );\n  const { one, two, three } = filtersConnections;\n  const selectedAll = one && two && three;\n  const selectedNothing = !(one || two || three);\n\n  return connectionsListNames.map(\n    ({ label, key }) => {\n      const connection: IConnectionsEntry =\n        label === 'Все'\n          ? { label, key, value: selectedAll }\n          : label === 'Без пересадок'\n            ? { label, key, value: selectedNothing }\n            : {\n              label,\n              key,\n              value: filtersConnections[key as keyof IConnections]\n            }\n      ;\n\n      return connection;\n    }\n  );\n}\n\nexport function useTicketsAssessmentList() {\n  return useStoreSelector<IState, ETicketAssessment>(\n    state => state.filters.ticketType.ticketAssessment\n  );\n}\n","import React from 'react';\n\nimport { Ticket } from '../../components';\nimport uniqueId from '../../utils/uniqueId';\nimport * as selectors from '../../hooks/selectors';\nimport './style.css';\n\nconst MAX_NUMBER_SHOWN_TICKETS = 5;\n\nconst TicketsList = () => {\n  const tickets = selectors.useStoreSelector<IState, ITicket[]>(\n    state => state.tickets\n  ).slice(0, MAX_NUMBER_SHOWN_TICKETS);\n\n  return (\n    <section className={TicketsList.displayName}>\n      {tickets.map((ticket) => (\n        <Ticket\n          key={uniqueId()}\n          ticket={ticket}\n          className={`${TicketsList.displayName}__item`}\n        />\n      ))}\n    </section>\n  );\n};\n\nTicketsList.displayName = 'TicketsList';\n\nexport default TicketsList;\n","import * as types from './types';\nimport { ETicketAssessment } from '../constants';\nimport { Dispatch, useContext } from 'react';\nimport StateContext from '../utils/context';\n\nexport function useDispatch(): Dispatch<IAction> {\n  const { dispatch } = useContext(StateContext);\n\n  return dispatch;\n}\n\nexport function useSetConnectionsFilters() {\n  const dispatch = useDispatch();\n\n  return function(key: TKeyType, value: boolean): void {\n    dispatch({\n      type: types.SET_FILTER_CONNECTION,\n      payload: {\n        key: key === 'all' && !value\n          ? 'nothing'\n          : key, value\n      },\n    });\n  };\n}\n\nexport function useSetTicketsAssessment() {\n  const dispatch = useDispatch();\n\n  return function(selected: ETicketAssessment): void {\n    dispatch({\n      type: types.SET_FILTER_ASSESSMENT,\n      payload: selected,\n    });\n  };\n}\n","import React from 'react';\n\nimport { TicketTypes } from '../../components';\nimport TicketsList from '../TicketsList';\nimport * as actions from '../../hooks/actions';\nimport * as selectors from '../../hooks/selectors';\nimport './style.css';\n\nconst TicketsGroup: React.FC = () => {\n  const filtersAssessment = selectors.useTicketsAssessmentList();\n  const onChangeAssessment = actions.useSetTicketsAssessment();\n\n  return (\n    <section className={TicketsGroup.displayName}>\n      <div className={`${TicketsGroup.displayName}__types`}>\n        <TicketTypes\n          selectedKind={filtersAssessment}\n          onChange={onChangeAssessment}\n        />\n      </div>\n      <div className={`${TicketsGroup.displayName}__list`}>\n        <TicketsList />\n      </div>\n    </section>\n  );\n};\n\nTicketsGroup.displayName = 'TicketsGroup';\n\nexport default TicketsGroup;\n","import React from 'react';\n\nimport { FilterConnections } from '../../components';\nimport * as actions from '../../hooks/actions';\nimport * as selectors from '../../hooks/selectors';\nimport './style.css';\n\nconst FilterGroup: React.FC = () => {\n  const filtersConnections = selectors.useConnectionsList();\n  const onChangeFilters = actions.useSetConnectionsFilters();\n\n  return (\n    <aside className={FilterGroup.displayName}>\n      <FilterConnections\n        connections={filtersConnections}\n        onChange={onChangeFilters}\n      />\n    </aside>\n  );\n};\n\nFilterGroup.displayName = 'FilterGroup';\n\nexport default FilterGroup;\n","import React from 'react';\n\nimport { TicketsGroup, FilterGroup } from '../../containers';\nimport './style.css';\n\nconst TicketsPage: React.FC = () => (\n  <main className={TicketsPage.displayName}>\n    <FilterGroup />\n    <TicketsGroup />\n  </main>\n);\n\nTicketsPage.displayName = 'TicketsPage';\n\nexport default TicketsPage;\n","import React, { useReducer } from 'react';\n\nimport initialState from '../store/initialState';\nimport reducer from '../hooks/reducer';\nimport useAPI from '../api';\nimport { TicketsPage } from '../pages';\nimport { Header } from '../components';\nimport StateContext from '../utils/context';\nimport './style.css';\n\nconst App: React.FC = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useAPI(dispatch, state);\n\n  return (\n    <StateContext.Provider value={{ state, dispatch }}>\n      <div className={App.displayName}>\n        <Header />\n        <TicketsPage />\n      </div>\n    </StateContext.Provider>\n  );\n};\n\nApp.displayName = 'App';\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}